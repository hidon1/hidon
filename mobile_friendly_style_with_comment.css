/* ========================================================== */
/* ===== קובץ עיצוב מובייל - גרסה סופית מבוססת ציור ===== */
/* ========================================================== */

@media (max-width: 900px) {

    /* --- הגדרות בסיס, פונטים ומשתני עיצוב --- */
    :root {
        --text-color: #1A5276;
        --card-bg: rgba(255, 255, 255, 0.98);
        --radius: 20px; /* פינות מעוגלות יותר */
        --button-font: 'Varela Round', sans-serif;
    }

    /* --- הגדרות גוף ומניעת גלילה --- */
    body, html {
        font-family: 'Varela Round', sans-serif !important;
        background-color: #eaf2f8;
        color: var(--text-color) !important;
        width: 100vw;
        height: 100vh;
        overflow: hidden !important; /* מונע כל סוג של גלילה */
        position: fixed;
    }

    body::before {
        background-image: url('backgrounds/main.jpg') !important;
        background-attachment: fixed !important;
        background-size: cover !important;
    }

    /* הסתרת אלמנטים של מחשב */
    #leaderboard-container, #welcomeBanner, #successMessage { 
        display: none !important;
    }

    /* --- מיקום האייקון למעלה באמצע (כמו בציור) --- */
    #user-info-container {
        position: fixed !important;
        top: 15px !important;
        left: 50% !important;
        transform: translateX(-50%); /* ממקם בדיוק באמצע */
        right: auto !important; /* דורס את המיקום הקודם */
        z-index: 100 !important;
    }
    #currency-bar {
        padding: 5px 15px !important;
        border-radius: 30px !important;
    }
    #coin-icon { width: 22px !important; height: 22px !important; }
    #coin-display { font-size: 1.3rem !important; }
    
    /* מיקום חדש לכפתור ההשתקה, בצד */
    #muteButton {
        display: block !important;
        position: fixed !important;
        top: 15px !important;
        left: 15px !important;
        z-index: 100 !important;
        background: rgba(255,255,255,0.9) !important; 
        color: var(--text-color) !important;
        padding: 8px 12px !important;
        border-radius: var(--radius) !important;
        font-size: 0.9rem !important;
        border: 1px solid #ddd !important;
    }
    
    /* --- עיצוב מחדש לכפתורים הראשיים --- */
    .button, #startBtn, #retryBtn, #nextStageBtn {
        font-family: var(--button-font) !important;
        font-size: 1.6rem !important;
        padding: 15px 40px !important;
        border-radius: 50px !important; /* פינות עגולות במיוחד */
        color: white !important;
        border: 2px solid rgba(255, 255, 255, 0.7) !important;
        background: linear-gradient(145deg, #5dade2, #2e86c1) !important;
        box-shadow: 0 5px 15px rgba(41, 128, 185, 0.4), inset 0 1px 2px rgba(255,255,255,0.3) !important;
        width: 85% !important;
        max-width: 350px !important;
    }
    
    .screen-card {
        padding: 25px !important;
        background: var(--card-bg) !important;
        border-radius: var(--radius) !important;
        width: 90vw !important;
        box-shadow: 0 8px 30px rgba(0,0,0,0.1) !important;
    }
    #startScreen h1 { font-size: 2.5rem !important; color: var(--text-color) !important; }
    #failScreen h2, #successScreen h2 { font-size: 2rem !important; }
    #failText { font-size: 1.1rem !important; }

    /* --- פריסה חדשה למסך החידון --- */
    #quizContainer {
        display: flex !important;
        flex-direction: column !important;
        height: 100vh !important;
        box-sizing: border-box !important;
        padding: 70px 0 15px 0 !important; /* מרווח גדול יותר למעלה עבור האייקון */
        justify-content: flex-start !important;
        gap: 12px;
    }

    #quizContainer > * {
        width: 90vw !important; /* הקטנת רוחב כללי למניעת גלישה */
        max-width: 450px !important; /* רוחב מקסימלי */
        margin-left: auto !important;
        margin-right: auto !important;
        flex-shrink: 0 !important;
    }
    
    #questionText {
        padding: 15px !important;
        font-size: 1.3rem !important;
        border-radius: var(--radius) !important;
        background: var(--card-bg) !important;
        border: 2px solid var(--answer-border) !important;
        box-shadow: none !important;
    }

    .answer-grid {
        flex-grow: 1 !important;
        display: flex !important;
        flex-direction: column !important;
        gap: 10px !important;
        overflow-y: auto !important;
        justify-content: center !important;
    }

    .answer {
        width: 100% !important;
        padding: 10px !important; /* הקטנת פדינג לגובה נמוך יותר */
        font-size: 1.1rem !important;
        min-height: 48px !important; /* גובה מינימלי נמוך יותר */
        background: white !important;
        border: 2px solid var(--answer-border) !important;
        border-radius: var(--radius) !important;
        font-family: var(--button-font) !important;
        color: #34495e !important;
    }
    
    /* --- עיצוב חדש לפס השעון --- */
    #progressBarContainer {
        display: block !important; /* מוודא שהפס תמיד יוצג */
        height: 12px !important;
        background-color: rgba(0, 0, 0, 0.1) !important;
        border-radius: 6px !important;
        order: 3; /* מיקום חדש - אחרי התשובות */
        margin-top: 10px !important;
    }
    #progressBar { height: 100%; background-color: #27ae60; border-radius: 6px; }

    #skipWrapper { order: 4; }
    #dashboard { order: 5; }
    
    /* --- מצב מאוזן (Landscape) --- */
    @media (orientation: landscape) and (max-height: 500px) {
        #quizContainer { padding: 55px 0 10px 0 !important; gap: 5px !important; }
        #questionText { font-size: 1rem !important; padding: 8px !important; }
        .answer-grid {
            display: grid !important;
            grid-template-columns: 1fr 1fr !important;
            gap: 8px !important;
        }
        .answer { min-height: 40px !important; font-size: 0.8rem !important; padding: 5px !important; }
        #dashboard { padding: 4px !important; font-size: 0.7rem !important; }
    }
}
